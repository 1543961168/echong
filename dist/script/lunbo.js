"use strict";var _createClass=function(){function s(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Lb=function(){function e(t){_classCallCheck(this,e),this.lbBox=document.getElementById(t.id),this.lbItems=this.lbBox.querySelectorAll(".lb-item"),this.lbSigns=this.lbBox.querySelectorAll(".lb-sign li"),this.lbCtrlL=this.lbBox.querySelectorAll(".lb-ctrl")[0],this.lbCtrlR=this.lbBox.querySelectorAll(".lb-ctrl")[1],this.lunbo=document.querySelector(".lunbo"),this.qieactive=document.querySelector(".qieactive"),this.curIndex=0,this.numItems=this.lbItems.length,this.status=!0,this.speed=t.speed||600,this.delay=t.delay||3e3,this.direction=t.direction||"left",this.moniterKeyEvent=t.moniterKeyEvent||!1,this.moniterTouchEvent=t.moniterTouchEvent||!1,this.handleEvents(),this.setTransition()}return _createClass(e,[{key:"start",value:function(){var t={srcElement:"left"==this.direction?this.lbCtrlR:this.lbCtrlL},e=this.clickCtrl.bind(this);this.interval=setInterval(e,this.delay,t)}},{key:"pause",value:function(){clearInterval(this.interval)}},{key:"setTransition",value:function(){var t=document.createElement("style");document.head.appendChild(t);var e=".lb-item {transition: left "+this.speed+"ms ease-in-out}";t.sheet.insertRule(e,0)}},{key:"clickCtrl",value:function(t){var e,i,s;this.status&&(this.status=!1,s=t.srcElement==this.lbCtrlR?(e=this.curIndex,i=(this.curIndex+1)%this.numItems,"left"):(e=this.curIndex,i=(this.curIndex+this.numItems-1)%this.numItems,"right"),this.slide(e,i,s),this.curIndex=i,this.yanse(this.curIndex))}},{key:"yanse",value:function(){switch(this.curIndex){case 0:this.lunbo.style.background="#F17868",this.qieactive.style.background="#F17868";break;case 1:this.lunbo.style.background="#237C7A",this.qieactive.style.background="#237C7A";break;case 2:this.lunbo.style.background="#4682FD",this.qieactive.style.background="#4682FD";break;case 3:this.lunbo.style.background="#6E2CA5",this.qieactive.style.background="#6E2CA5";break;case 4:this.lunbo.style.background="#ED9E9E",this.qieactive.style.background="#ED9E9E"}}},{key:"clickSign",value:function(t){var e,i,s;this.status&&(this.status=!1,s=(e=this.curIndex)<(i=parseInt(t.srcElement.getAttribute("slide-to")))?"left":"right",this.slide(e,i,s),this.curIndex=i,this.yanse(this.curIndex))}},{key:"keyDown",value:function(t){t&&37==t.keyCode?this.lbCtrlL.click():t&&39==t.keyCode&&this.lbCtrlR.click()}},{key:"handleEvents",value:function(){this.lbBox.addEventListener("mouseleave",this.start.bind(this)),this.lbBox.addEventListener("mouseover",this.pause.bind(this)),this.lbCtrlL.addEventListener("click",this.clickCtrl.bind(this)),this.lbCtrlR.addEventListener("click",this.clickCtrl.bind(this));for(var t=0;t<this.lbSigns.length;t++)this.lbSigns[t].setAttribute("slide-to",t),this.lbSigns[t].addEventListener("click",this.clickSign.bind(this));this.moniterKeyEvent&&document.addEventListener("keydown",this.keyDown.bind(this))}},{key:"slide",value:function(t,e,i){var s,l,n=this;l="left"==i?(this.lbItems[e].className="lb-item next",s="lb-item active left","lb-item next left"):(this.lbItems[e].className="lb-item prev",s="lb-item active right","lb-item prev right"),this.lbSigns[t].className="",this.lbSigns[e].className="active",setTimeout(function(){n.lbItems[t].className=s,n.lbItems[e].className=l}.bind(this),50),setTimeout(function(){n.lbItems[t].className="lb-item",n.lbItems[e].className="lb-item active",n.status=!0}.bind(this),this.speed+50)}}]),e}();