"use strict";!function(i){i(document).ready(function(){i("header").load("header.html"),i("footer").load("footer.html")});var e=[],l=[],s=null,o=null,t=i(".list");i.ajax({url:"http://10.31.162.28/echong/php/listdata.php",dataType:"json"}).done(function(n){var a="<ul>";i.each(n,function(n,t){a+='\n                <li>\n                    <a href="detail.html?sid='+t.sid+'" target="_blank">\n                        <img class="lazy" data-original="'+t.url+'" width="200" height="200"/>\n                        <p>'+t.sid+t.title+'</p>\n                        <span class="price">￥'+t.price+'</span>\n                        <span class="kucun">库存:'+t.sailnumber+"</span>\n                    </a>\n                </li>\n            "}),a+="</ul>",t.html(a),i(function(){i("img.lazy").lazyload({effect:"fadeIn"})}),e=[],l=[],o=s=null,i(".list li").each(function(n,t){l[n]=i(this),e[n]=i(this)})}),i(".page").pagination({pageCount:2,jump:!0,coping:!0,prevContent:"上一页",nextContent:"下一页",homePage:"首页",endPage:"尾页",callback:function(n){console.log(n.getCurrent()),i.ajax({url:"http://10.31.162.28/echong/php/listdata.php",data:{page:n.getCurrent()},dataType:"json"}).done(function(n){var a="<ul>";i.each(n,function(n,t){a+='\n                        <li>\n                            <a href="detail.html?sid='+t.sid+'" target="_blank">\n                                <img src="'+t.url+'"/>\n                                <p>'+t.sid+t.title+'</p>\n                                <span class="price">￥'+t.price+'</span>\n                                <span class="kucun">库存:'+t.sailnumber+"</span>\n                            </a>\n                        </li>\n                    "}),a+="</ul>",t.html(a),e=[],l=[],o=s=null,i(".list li").each(function(n,t){l[n]=i(this),e[n]=i(this)})})}}),i("button").eq(0).on("click",function(){i(this).addClass("qie").siblings("button").removeClass("qie"),i.each(e,function(n,t){i(".list ul").append(t)})}),i("button").eq(1).on("click",function(){i(this).addClass("qie").siblings("button").removeClass("qie");for(var n=0;n<l.length-1;n++)for(var t,a=0;a<l.length-n-1;a++){s=parseFloat(l[a].find(".price").html().substring(1)),(o=parseFloat(l[a+1].find(".price").html().substring(1)))<s&&(t=l[a],l[a]=l[a+1],l[a+1]=t)}i.each(l,function(n,t){i(".list ul").append(t)})}),i("button").eq(2).on("click",function(){i(this).addClass("qie").siblings("button").removeClass("qie");for(var n=0;n<l.length-1;n++)for(var t,a=0;a<l.length-n-1;a++){s=parseFloat(l[a].find(".price").html().substring(1)),o=parseFloat(l[a+1].find(".price").html().substring(1)),s<o&&(t=l[a],l[a]=l[a+1],l[a+1]=t)}i.each(l,function(n,t){i(".list ul").append(t)})})}(jQuery);